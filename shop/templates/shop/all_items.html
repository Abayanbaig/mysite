{% extends 'shop/basic.html' %}


{% block body %}
{% load static %}



<!-- image popup -->
<div class="modal fade " id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog"  role="document">
    <div class="modal-content" style="background-color: rgb(247, 244, 242);">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      
      <div class="modal-body">
          
  <div id="demo" class="carousel slide my-3" data-ride="carousel">
    <!-- Slide show starts here -->
    <div class="container carousel-inner no-padding">
      <div class="carousel-item active">
        <div class="row justify-content-center">    
          <div class="image-container">
          <img src="{{ product.image.url }}" class="img-fluid" alt="Product Image">
          </div>
        </div>
      </div>

       <!-- Second slide  -->

      <div class="carousel-item">
        <div class="row justify-content-center">
          <div class="image-container">
          <img src="{{ product.imageTwo.url }}" class="img-fluid" alt="Product Image">
          </div>
        </div>
      </div>
    </div>
    <!-- Left and right controls -->
    <a class="carousel-control-prev " href="#demo" data-slide="prev">
      <span class="carousel-control-prev-icon bg-dark"></span>
    </a>
    <a class="carousel-control-next" href="#demo" data-slide="next">
      <span class="carousel-control-next-icon bg-dark"></span>
    </a>
  </div>

</div>  
      
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

        <!-- Buying popup -->
        <div class="modal fade" id="pr{{product.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">Place Order</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                      </button>
                  </div>
                      <div class="modal-body text justify">
                          <h6>Order Details:</h6> {{product.product_name}}, {{product.desc}}, colour - {{product.color}}. <strong> Price :</strong> &#8377;{{product.price}}
                      </div>
                  <div class="modal-footer">
                        <a href="/shop/order/{{product.id}}" class=" ml-3 mr-2"> <button  id="" class="btn btn-warning w-100 w-md-auto  ">Confirm Order </button>  </a>
                  </div>
              </div>
          </div>
        </div>


<div class="container">
  <div class="row justify-content-center pt-3">
      <!-- Product details -->
      <div class="col-md-4 mb-4">
        <div class="image-container">
          <img src="{{ product.image.url }}" class="img-fluid" alt="Product Image" data-toggle="modal" data-target="#exampleModal">
        </div>
      </div>
       <div class="col-md-6">
        <div class="card p-4">
          <h3 class="card-title">Product Details</h3>
          <p class="text-muted"><strong>Product Name:</strong> {{ product.product_name }}</p>
          <p class="text-muted"><strong>Category:</strong> {{ product.category }}</p>
          <p class="text-muted">
            <strong>Colour:</strong> {{ product.color }}<strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Size:</strong> {{ product.size }}
          </p>
          <p class="text-muted"><strong>Original Price:</strong> <s>&#8377; {{ product.discount }}.00</s></p>
          <div class="price-section">
            <h4 class="text-primary"><strong></strong> &#8377; {{ product.price }}.00</h4>
          <p>{{ product.desc }}</p>
            
            <div>
              <button id="pr{{product.id}}" class="btn btn-primary btn-block cart1" data-toggle="modal" data-target="#myModal">Add to Cart</button>

              <button class="btn btn-warning btn-block " data-toggle="modal" data-target="#pr{{product.id}}">Buy now</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<!-- Related Products Section -->
<div class="container my-5">
  <h3 class="text-center mb-4">Related Products</h3>
  <div class="row justify-content-center">
      {% for i in allitems %}

        <!-- Buying popup -->
        <div class="modal fade" id="pr{{i.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">Place Order</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                      </button>
                  </div>
                      <div class="modal-body text justify">
                          <h6>Order Details:</h6> {{i.product_name}}, {{i.desc}}, colour - {{i.color}}. <strong> Price :</strong> &#8377;{{i.price}}
                      </div>
                  <div class="modal-footer">
                        <a href="/shop/order/{{i.id}}" class=" ml-3 mr-2"> <button  id="" class="btn w-100 w-md-auto btn-warning ">Confirm Order </button>  </a>
                  </div>
              </div>
          </div>
        </div>


      <div class="col-6 col-sm-6 col-md-3 mb-3">
          <div class="card">
            <a href="/shop/items/{{i.id}}"><img id="qv{{i.id}}" src="/media/{{i.image}}" class="card-img-top fitimg" alt="{{i.product_name}}"></a>
              <div class="card-body">
                  <h5 class="card-title" id="namepr{{i.id}}">{{i.product_name}}</h5>
                
              
                  <p class="text-muted"> <s>&#8377; {{ i.discount }}.00</s> </p>
                  <p class="card-text">Price: &#8377; {{ i.price }}.00</p>
         
                  <div class="button-container d-flex flex-column flex-md-row gap-2">
                    <button id="pr{{i.id}}" class="btn btn-primary  w-md-auto mb-2 mb-md-0 mr-1 ml-1 cart1" data-toggle="modal" data-target="#myModal">Add to Cart</button> 
                    
                      
                    <button  class="btn btn-warning w-md-auto mb-2 mb-md-0 mr-1 ml-1" data-toggle="modal" data-target="#pr{{i.id}}">&nbsp;Buy now&nbsp;</button>
                    
                </div> 
              </div>
          </div>
      </div>
      {% endfor %}
  </div>
</div>


{% endblock %}
    
